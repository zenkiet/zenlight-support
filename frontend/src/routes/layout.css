@import 'tailwindcss';

@plugin '@iconify/tailwind4' {
	icon-sets: from-json(regular, 'src/icons/regular.json');
}

/* Theme variants (Tailwind v4) */
@custom-variant dark (&:where(.dark, [data-theme='dark'], [data-theme='dark'] &));

@theme {
	/* Fonts */
	--font-sans: 'Inter', system-ui, sans-serif;
	--font-mono:
		'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono',
		'Courier New', monospace;

	/* Colors */
	--color-page: var(--bg-page);
	--color-surface: var(--bg-surface);
	--color-surface-hover: var(--bg-surface-hover);
	--color-border: var(--border-color);
	--color-main: var(--text-main);
	--color-muted: var(--text-muted);
	--color-primary: var(--primary);
	--color-accent: var(--accent);

	--color-glass-surface: var(--glass-surface);
	--color-glass-border: var(--glass-border);
	--color-glass-highlight: var(--glass-highlight);
}

:root {
	/* Light Mode */
	--bg-page: #f8fafc;
	--bg-surface: #ffffff;
	--bg-surface-hover: #f1f5f9;
	--border-color: #e9ebee;
	--text-main: #0f172a;
	--text-muted: #64748b;
	--primary: #3b82f6;
	--accent: #8b5cf6;

	/* Glass Light */
	--glass-surface: rgba(0, 0, 0, 0.03);
	--glass-border: rgba(0, 0, 0, 0.08);
	--glass-highlight: rgba(0, 0, 0, 0.1);
}

/* Dark Mode Trigger */
:root[data-theme='dark'] {
	/* Dark Mode */
	--bg-page: #161619;
	--bg-surface: #1d293b;
	--bg-surface-hover: #1e293b;
	--border-color: #2e3b4f;
	--text-main: #f8fafc;
	--text-muted: #94a3b8;
	--primary: #60a5fa;
	--accent: #a78bfa;

	/* Glass Dark */
	--glass-surface: rgba(255, 255, 255, 0.03);
	--glass-border: rgba(255, 255, 255, 0.08);
	--glass-highlight: rgba(255, 255, 255, 0.1);
}

/* ===== Base ===== */
@layer base {
	body {
		@apply m-0 min-h-screen overflow-hidden bg-page font-sans text-neutral-200 antialiased;
		background-attachment: fixed;
		color: var(--color-main);
		background-image:
			radial-gradient(at 0% 0%, rgba(59, 130, 246, 0.1) 0px, transparent 50%),
			radial-gradient(at 100% 0%, rgba(139, 92, 246, 0.1) 0px, transparent 50%),
			radial-gradient(at 100% 100%, rgba(59, 130, 246, 0.1) 0px, transparent 50%),
			radial-gradient(at 0% 100%, rgba(139, 92, 246, 0.1) 0px, transparent 50%);
	}

	/* Scrollbar */
	.scrollable::-webkit-scrollbar {
		width: 8px;
		height: 8px;
	}

	.scrollable::-webkit-scrollbar-track {
		background: transparent;
	}

	.scrollable::-webkit-scrollbar-thumb {
		background-color: #404040;
		/* Neutral-700 */
		border-radius: 4px;
		border: 2px solid transparent;
		background-clip: content-box;
	}

	.scrollable::-webkit-scrollbar-thumb:hover {
		background-color: #525252;
	}
}

/* ===== Components ===== */
@layer components {
	.drag-region {
		--wails-draggable: drag;
	}

	.glass-panel {
		@apply border border-glass-border bg-glass-surface shadow-2xl backdrop-blur-xl;
	}

	.glass-card {
		@apply rounded-xl border border-muted/10 bg-muted/10 backdrop-blur-md transition-all duration-300;
		box-shadow:
			0 4px 6px -1px rgba(0, 0, 0, 0.1),
			0 2px 4px -1px rgba(0, 0, 0, 0.06);

		&:hover {
			@apply transform border-muted/20 bg-muted/20 shadow-lg;
			box-shadow:
				0 10px 15px -3px rgba(0, 0, 0, 0.1),
				0 4px 6px -2px rgba(0, 0, 0, 0.05);
		}
	}

	.glass-btn {
		@apply flex cursor-pointer items-center justify-center gap-2 rounded-lg border border-muted/10 bg-muted/10 px-4 py-2 text-sm font-medium transition-colors hover:border-muted/20 hover:bg-muted/20 active:bg-muted/10;
	}

	.glass-input {
		@apply w-full rounded-lg border border-muted/10 bg-muted/10 px-3 py-2 text-sm transition-colors placeholder:text-neutral-500 focus:border-glass-highlight focus:outline-none;
	}

	/* .glass {
		@apply shadow-xs backdrop-blur-md backdrop-saturate-150;
		background: var(--card);
		border: 1px solid var(--border);
		color: var(--text);
		transition:
			background 180ms ease,
			border-color 180ms ease,
			box-shadow 180ms ease;
	}

	.input {
		@apply form-input w-full rounded-xl px-3 py-2 text-sm transition outline-none;
		border: 1px solid color-mix(in oklab, var(--border) 85%, transparent);
		background: color-mix(in oklab, var(--card) 75%, transparent);
		color: var(--text);
	}

	.input:focus {
		border-color: color-mix(in oklab, var(--accent) 70%, var(--border));
		background: color-mix(in oklab, var(--card) 90%, transparent);
	}

	.pill {
		@apply rounded-full px-3 py-1 text-xs font-semibold;
		background: rgba(255, 255, 255, 0.06);
		color: color-mix(in oklab, var(--text) 85%, var(--muted));
		transition:
			background 180ms ease,
			color 180ms ease;
	}

	.badge {
		@apply inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-[11px] font-semibold;
		background: color-mix(in oklab, var(--accent) 18%, transparent);
		color: color-mix(in oklab, var(--text) 90%, var(--accent));
	} */
}

/* ===== Utilities (token-based) ===== */
/* @layer utilities {
	.border {
		border-color: var(--border);
	}

	.text-primary {
		color: var(--accent);
	}

	.text-muted {
		color: var(--muted);
	}

	.bg-card {
		background: var(--card);
	}

	.border-card {
		border-color: var(--border);
	}

	.bg-glass {
		background: linear-gradient(180deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.02));

		&:hover {
			background: linear-gradient(180deg, rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.04));
		}

		&:active {
			background: linear-gradient(180deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.01));
		}
	}

	.scrollable {
		@apply overflow-y-auto;
		scrollbar-width: thin;
		scrollbar-color: rgba(148, 163, 184, 0.6) transparent;
	}

	.scrollable::-webkit-scrollbar {
		width: 6px;
	}

	.scrollable::-webkit-scrollbar-thumb {
		background: rgba(148, 163, 184, 0.6);
		border-radius: 9999px;
	}

	@keyframes fadeWave {

		0%,
		100% {
			opacity: 0.2;
		}

		50% {
			opacity: 1;
		}
	}
} */